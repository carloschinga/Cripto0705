<!DOCTYPE html>
<html lang="es">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Configuración de Seguridad Multifactor (MFA) - Kevin</title>

    <link href="estilos_kevin/config_autenti_multi.css" rel="stylesheet" type="text/css" />

<body>
    <div class="container">
        <div class="left">
            <h1>Credenciales de seguridad</h1>
            <h3>Seguridad multifactor (MFA)</h3>
            <p>
                Esta opción ha sido habilitada para aumentar la seguridad de nuestra
                página. Para poder activarla y utilizarla necesitarás descargar una 
                aplicación de autenticación en tu teléfono móvil. Una vez activada, 
                se te pedirá ingresar un código, adicional a tu contraseña, que 
                podrás ver en tu teléfono móvil para iniciar sesión.
            </p>

            <strong>1. Instalar aplicación en tu teléfono móvil</strong>
            <p>En tu teléfono móvil, ingresa a la Play Store o App Store y descarga la aplicación <a
                    href="https://play.google.com/store/apps/details?id=com.google.android.apps.authenticator2"
                    target="_blank" rel="noopener noreferrer">Autenticador de Google</a>.</p>

            <strong>2. Escanea el código con tu teléfono</strong>
            <p>Abre la aplicación que has instalado, ingresa a la opción "Escanear un código QR" y escanea este código:
            </p>
            <div class="qr-container">
                <img src="img_kevin/Imagen_QR.png" alt="Código QR para Google Authenticator" />
            </div>
        </div>

        <div class="right">
            <strong>3. Ingresa los códigos que aparecen en la aplicación</strong>
            <p>
                Luego de escanear el QR, aparecerá en la pantalla de la app y tu cuenta de correo seguida de un código de 6
                dígitos. Ingresa los códigos para verificar la configuración.
            </p>

            <div class="input-group">
                <label for="codigo1">Código 1:</label>
                <input type="text" id="codigo1" maxlength="6" pattern="\d{6}" placeholder="Ej: 123456" required />
            </div>
            <div class="input-group">
                <label for="codigo2">Código 2:</label>
                <input type="text" id="codigo2" maxlength="6" pattern="\d{6}" placeholder="Ej: 654321" required />
            </div>

            <div class="buttons">
                <button id="btnContinuar" disabled>Continuar</button>
                <a href="indexAutenticarKevin.html" class="button-link">Regresar</a>
            </div>

            <script>
                // Habilitar botón cuando ambos códigos estén completos y válidos
                const codigo1Input = document.getElementById('codigo1');
                const codigo2Input = document.getElementById('codigo2');
                const btnContinuar = document.getElementById('btnContinuar');

                function validarInputs() {
                    const cod1Valido = /^\d{6}$/.test(codigo1Input.value);
                    const cod2Valido = /^\d{6}$/.test(codigo2Input.value);

                    btnContinuar.disabled = !(cod1Valido && cod2Valido);
                }

                codigo1Input.addEventListener('input', validarInputs);
                codigo2Input.addEventListener('input', validarInputs);

                // Aquí podrías agregar el evento para cuando se haga click en continuar
                btnContinuar.addEventListener('click', () => {
                    alert(`Verificando códigos:\nCódigo 1: ${codigo1Input.value}\nCódigo 2: ${codigo2Input.value}`);

                    window.location.href = "segundo_paso_autenticacion.html";
                    // Aquí tu lógica para validar códigos en backend
                });
            </script>
        </div>
    </div>
</body>

</html>